<%= render partial: '0p/general/o_titulo', locals: {o: @objeto, a: action_name, size: '5'} %>

<div class='row'>
	<div class='col-md-6'>
		<%= render partial: '0p/general/titulo', locals: {c: 'documentos', a: nil, titulo: 'Documentos', size: '5'} %>
		<%= render partial: '0p/tabla/solo_tabla', locals: {c: 'documentos', a: 'index'} %>
		<%= link_to  "/documentos/new?tabla_id=#{@objeto.id}", class: "btn btn-outline-#{c_color('documentos')} btn-sm" do %>
		    <%= "+ Documento" %>
		<% end %>
	</div>
	<div class='col-md-6'>
		<%= render partial: '0p/general/titulo', locals: {c: controller_name, a: nil, titulo: 'Observaciones', size: '5'} %>

		<%= render partial: "data/0data/observacion/index" %>
		<%= render partial: '0p/tabla/ext_btn_nuevo', locals: {o: @objeto, c: 'observaciones'} %>

	</div>
</div>
</br>

<div class='row'>
	<div class='col-md-12'>

		<table class="table table-bordered table-sm  thead-dark">
			<thead>
				<tr>
					<% @objeto.encabezados.order(:orden).each do |campo| %>
						<td align='center'><small><i><%= link_to campo.encabezado, edit_encabezado_path(campo) %></i></small></td>				
					<% end %>
				</tr>
			</thead>
			<tbody>
				<% @objeto.lineas.order(:orden).each do |linea| %>
					<tr>
						<% linea.columnas.order(:orden).each do |columna| %>
							<% if @objeto.encabezados.find_by(orden: columna.orden).tipo == 'valor' %>
								<td align="right">
							<% else %>
								<td>
							<% end %>
							<small>
								<%# if (columna.orden == 1 and (@objeto.archivos == true or @objeto.imagenes == true)) %>
								<% if columna.orden == 1 %>
									<%= link_to "[ #{columna.columna} ]", linea %>
								<% else %>
									<%= columna.columna %>
								<% end %>
							</small></td>
						<% end %>
					</tr>
				<% end %>
			</tbody>
		</table>

	</div>
</div>
